<div id="picBase64">
    <div class="row mb-20">
        <div class="col-md-5">
            <form method="post" enctype="multipart/form-data">
                <div class="input-group">
                    <input name="picture" class="form-control" type="file">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-primary">
                            生成&nbsp;<i class="fa fa-chevron-right"></i>
                        </button>
                    </span>
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 mb-20">
            <p>Base64（IMG标签）：</p>
            <textarea spellcheck="false" id="previewText" class="form-control" disabled="disabled"></textarea>
            <div id="previewImg" class="hidden">
                <p>IMG标签预览：</p>
            </div>
        </div>
    </div>
</div>
<script>
    $('#picBase64 form button').click(function (evt) {
        var $target = $(evt.currentTarget);
        var $form = $target.parents('form');
        $form.ajaxSubmit(function (resp) {
            var obj = JSON.parse(resp);
            if (obj.status == 0) {
                var data = obj.data;
                $("#previewText").html(data);
                $("#previewImg").removeClass('hidden').children('img').remove();
                $("#previewImg").append(data);
            }
            return false;
        });
        return false;
    });
</script>